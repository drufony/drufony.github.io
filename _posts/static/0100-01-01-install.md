---
title: Installing Symfony Drupal
layout: default
permalink: /install
published: true
---

<p class="lead">I have tried to make it is easy for you to install and test this project, but it will not be as easy as installing Drupal. However, if you develop Drupal sites in a local development environment, it should be simple work for you.</p>

Before you start, review the [list of issues](https://github.com/bangpound/symfony-drupal/issues). None of these issues will get in the way of you testing Symfony Drupal's basic functionality.

{% highlight bash %}
composer create-project bangpound/symfony-drupal symfony-drupal 2.4.x-dev
{% endhighlight %}

Composer will download the Symfony Drupal project and its dependencies, and it may take a few minutes. Finally, Symfony will ask for configuration parameters, including database connection details. (These connection details are not used for Drupal's database connection [yet](https://github.com/bangpound/symfony-drupal/issues/7).)

## Install Drupal

You cannot use install.php to set up Symfony Drupal, but you can use [a slightly modified version of drush](https://github.com/bangpound/drush/compare) to install your site. This modified version of Drush is installed inside the Symfony Drupal project folder's `bin` directory and has only been tested for installing a Drupal site with a database.

{% highlight bash %}
cd symfony-drupal
./bin/drush -r $PWD/web si --db-url=mysql://root@localhost/test --account-pass=symfony
{% endhighlight %}

I had trouble with sqlite, but MySQL works fine. Substitute your desired database name and credentials, of course. See the documentation at `./bin/drush help site-install` for details about specifying your preferred options.

## Install Symfony integration module

You will need to download and install the [Symfony module](https://github.com/bangpound/symfony-module). Without the module, you will not be able to log out of Drupal.

These commands will download and enable the module, but they produce fatal errors with the message "Call to a member function log() on a non-object" that are harmless. The commands succeed.

{% highlight bash %}
git clone https://github.com/bangpound/symfony-module.git web/sites/all/modules/symfony
./bin/drush -r $PWD/web en symfony
{% endhighlight %}

## Run Symfony Drupal

Finally you can use Symfony's console to run the site locally.

{% highlight bash %}
./app/console server:run -v
{% endhighlight %}

Use the username "admin" and password "symfony" to log in as user 1.

## Installing and enabling modules

Whenever you download a module, such as Views, Ctools or Panels, you must update the autoloader manually. This is because [I have removed the Drupal registry]({{ site.baseurl }}/how/drupal-7-barriers/)

{% highlight bash %}
./bin/drush -r $PWD/web dl ctools views panels
composer dump-autoload -d web/sites/all/{% endhighlight %}

You must also clear the Symfony cache. Otherwise Drupal routes are not registered in Symfony.

{% highlight bash %}
./app/console cache:clear
{% endhighlight %}

## Good luck!

Thanks for taking the time to play with Symfony Drupal. [Please let me know how it goes!](https://github.com/bangpound/symfony-drupal/issues)
